### Local bashrc file containing system-specific settings

# export TZ="America/Los_Angeles"

########## Prompt ##########
export GIT_PS1_SHOWDIRTYSTATE="" # chipyard is slow with this
RESTORE='\[\e[0m\]'
export PS1="\[\e[0;44;30m\][\w]${RESTORE}\[\e[33m\]\$(__git_ps1 \"[\[\e[03m\]%s\[\e[23m\]]\")${RESTORE}\[\e[1;38;5;4m\] â¨• ${RESTORE}"

########## Environment ##########
## Conda
# The base env bin is added to PATH and will always be implicitly activated
# To activate/deactivate other environment, run the following commands
# Activate environment:   conda activate <env>
# Deactivate environment: cond deactivate
CONDA_HOME=${HOME}/.conda
# This is effectively `conda init`
[[ -e "${CONDA_HOME}" ]] && . "${CONDA_HOME}/etc/profile.d/conda.sh"
[[ ":$PATH:" =~ ":${CONDA_HOME}/bin:" ]] || PATH="${CONDA_HOME}/bin:$PATH"
[[ ":$MANPATH:" =~ ":${CONDA_HOME}/share/man:" ]] || MANPATH=":${CONDA_HOME}/share/man${MANPATH:+${MANPATH}}"
## Coursier
[[ ":$PATH:" =~ ":${HOME}/.local/share/coursier/bin:" ]] || PATH="${HOME}/.local/share/coursier/bin:$PATH"

export INFOPATH="${CONDA_HOME}/share/info"
export PATH MANPATH

########## Completion ##########
# zellij doesn't automatically source /etc/profile in new panes
# so manually source the system-wide completion scripts
source /etc/profile.d/bash_completion.sh

if [[ -r "${CONDA_HOME}/etc/profile.d/bash_completion.sh" ]]; then
    source "${CONDA_HOME}/etc/profile.d/bash_completion.sh"
else
    for COMPLETION in "${CONDA_HOME}/etc/bash_completion.d/"*; do
        [[ -r "${COMPLETION}" ]] && source "${COMPLETION}"
    done
fi


########## Ad-hoc ##########
export DISPLAY=:10.0
